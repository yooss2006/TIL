# 정규식

일정한 패턴을 가진 문자열의 집합을 표현하기 위해 사용되는 형식 언어이다.

- 정규식은 문자열을 대상으로 패턴 매칭 기능을 제공한다.
  - 특정 패턴과 일치하는 문자열을 검색하거나 추출, 치환할 수 있는 기능

정규표현식은 패턴과 플래그로 구성된다.

- /패턴/플래그

</br>

## 정규표현식을 사용하는 메서드

1. exec 메서드

- 정규 표현식의 패턴을 검색하여 매칭 결과를 배열로 반환한다.
  - 결과가 없는 경우 null을 반환한다.
  - g 플래그를 지정해도 첫 번째 매칭 결과만 반환한다.

```
const regexp = /is/;
regexp.exec("he is man");
//[ 'is', index: 3, input: 'he is man', groups: undefined ]
```

2. match 메서드

- 정규 표현식의 패턴을 검색하여 매칭 결과를 배열로 반환한다.
  - g 플래그가 지정되면 모든 매칭 결과를 배열로 반환한다.
  - 문자열.match(정규표현식)으로 사용한다.

```
const regexp = /is/g;
"he is man is man is".match(regexp);
//[ 'is', 'is', 'is' ]
```

3. test 메서드

- 정규 표현식의 패턴을 검색하여 매칭 결과를 불리언 값으로 반환한다.

```
const regexp = /is/;
regexp.test("he is man");
//문자열안에 해당 패턴이 있으니 true
```

4. replace 메서드

- 정규표현식 패턴에 매칭되는 항목을 대체 문자열로 변환한다.

```
"AA는 BB고 A는 C이니라.".replace(/A/g, "Z");
//ZZ는 BB고 Z는 C이니라.
```

5. split 메서드

- 정규표현식 패턴에 매칭되는 항목을 기준으로 쪼개어 배열을 반환한다.

```
"하나A둘A셋".split(/A/g);
//[ '하나', '둘', '셋' ]
```

## 플래그

- i 대소문자를 구별하지 않고 패턴 검색
- g 패턴이 일치하는 모든 문자열을 검색
- m 문자열의 행이 바뀌어도 패턴 검색을 계속

플래그는 하나 이상의 플래그를 동시에 설정할 수 있다.

예시 :

```
/패턴/i - 대소문자 구분 x
/패턴/ig  - 대소문자 구분 x, 전체문자열
/패턴/igm - 대소문자 구분 x, 전체문자열, 행 바뀌어도 검색
```

## 패턴

문자열의 일정한 규칙을 표현하기 위해 사용

- /로 열고 닫는다.
- 문자열의 따옴표 생략

### 패턴에서 사용되는 기호

**.(점입니다) 임의의 문자 한 개**

- .을 여러개 붙이면 개수만큼의 문자를 의미한다.

```
"하이루하이루".match(/../g);
//[ '하이', '루하', '이루' ]
```

**반복되는 문자열**

- 패턴{m,n} : 최소 m번 최대 n번 반복되는 문자열을 찾는다.
- 패턴{n} : n번 반복되는 문자열을 찾는다.
- 패턴{n,} : 최소 n번이상 반복되는 문자열을 찾는다.

```
최소 2번 최대 3번 반복
"AA는 AAA지 A는 누군데?".match(/A{2,3}/g);
//["AA","AAA"]

2번 반복
"AA는 AAA지 A는 누군데?".match(/A{2}/g);
//["AA","AA"]

최소 1번 반복
"AA는 AAA지 A는 누군데?".match(/A{1,}/g);
//[ 'AA', 'AAA', 'A' ]
```

- 패턴+ : 패턴이 한번 이상 반복되는 문자열을 찾는다.
  - {1,}와 같다.
- 패턴? : 앞선 패턴이 최대 1번(0번 포함) 반복되는 문자열을 찾는다.

```
1번 이상 반복
"AA는 AAA지 A는 누군데?".match(/A+/g);
//[ 'AA', 'AAA', 'A' ]

패턴이 최대 1번 반복
"11212".match(/11?2/g);
//11?2는 1와 2 사이에 1이 1번 혹은 0번 오는 경우를 매치한다.
//["112","12"]
```

**여러가지 경우 매칭**

- 패턴1 | 패턴2 : 패턴 1 또는 패턴 2 두가지 경우를 모두 매치한다.

```
"AA는 BB고 A는 C이니라.".match(/A|B/g);
//[ 'A', 'A', 'B', 'B', 'A' ]

"AA는 BB고 A는 C이니라.".match(/A+|B{2}/g);
//위에서 배운 것들을 활용 가능하다.
//[ 'AA', 'BB', 'A' ]
```

- [패턴1패턴2패턴3] : 패턴1 또는 패턴2 또는 패턴3 []안에 들어가는 모든 경우를 매치한다.

  - [패턴1-패턴2] : 패턴1 ~ 패턴2까지에 들어가는 모든 경우를 매치한다.
    - 예를 들어 A-Z 면 대문자, 0-9 숫자를 의미한다.

- [^패턴] : not의 의미를 가진다. 패턴을 제외한 문자를 의미한다.
- ^패턴 : 해당 패턴의 문자열로 시작을 의미한다.
  - 괄호 바깥이어야 한다.
- 패턴$ : 해당 패턴의 문자열로 끝난다.

그 외

- 숫자 \d 또는 [0-9]
- 숫자가 아닌 문자 \D 또는 [^0-9]
- 알파벳, 숫자, 언더스코어( \_ ) \w 또는 [A-Za-z0-9_]
- 알파벳, 숫자, 언더스코어가 아닌 특수문자 \W 또는 [^a-za-z0-9_]
- \s 스페이스(공백)
- \S 스페이스(공백)이 아닌 것

## 자주 사용하는 정규표현식

자주 사용하는 정규식을 풀어보며 익숙해져 보자.

```
/^https?\/\//
```

차근차근 하나하나 풀어보겠습니다.

패턴을 상징하는 /패턴/의 /를 없애고 생각해보겠습니다.

^https 와 s?\/\/로 나눠질 수 있습니다.

- ^https는 https로 시작한다
- s?\ /\ / 가 최대 한번(없어도됨) 들어가며 뒤에 \ \가 들어간다.
  - \ /는 /이 기호를 의미한다.

결론 : http://와 https://로 시작하는지 검사하는 패턴입니다.

</br>

```
/\d{2,3}-\d{3,4}-\d{4}/
```

\d{n,m} 패턴과 사이에 - 기호가 들어가는 패턴입니다.

- \d{2,3} 숫자 2개 이상 3개 이하의 수로 매칭
- \d{2,3}-\d{3,4} 2~3개 숫자 - 3~4개로 숫자 묶음 사이에 특수기호 - 가 들어간다.

결론 : 유선 번호와 핸드폰 번호에 모두 매칭되는 패턴입니다.
